function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function t(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);if("Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e(t,void 0)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n=document.querySelector("table"),r={};function a(e){return parseFloat(e.replace(/[^0-9.]/g,""))}function o(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0})}function i(e,t){var n=document.createElement("div"),r=document.createElement("p");n.classList.add("notification"),n.setAttribute("data-qa","notification"),"warning"===e?n.classList.add("error"):"success"===e&&n.classList.add("success"),r.classList.add("title"),r.innerText=t,n.append(r),document.body.append(n),setTimeout(function(){document.querySelector(".notification").remove()},3e3)}!function(){var e=document.createElement("form");e.classList.add("new-employee-form"),e.setAttribute("novalidate",""),e.setAttribute("id","new-employee-form");for(var t=[{name:"name",label:"Name",type:"text"},{name:"position",label:"Position",type:"text"},{name:"office",label:"Office",type:"select",options:["Tokyo","London","New York","Singapore","Edinburgh","San Francisco"]},{name:"age",label:"Age",type:"number"},{name:"salary",label:"Salary",type:"number"}],n=0;n<t.length;n++){var r=document.createElement("label");r.innerText=t[n].label+":";var a=document.createElement("input"),o=document.createElement("select");if("select"!==t[n].type)r.append(a),a.setAttribute("data-qa",t[n].name),a.setAttribute("type",t[n].type),"age"===t[n].name&&(a.setAttribute("min","18"),a.setAttribute("max","90")),"salary"===t[n].name&&a.setAttribute("min","1"),a.setAttribute("required","");else{o.setAttribute("data-qa",t[n].name),o.setAttribute("required",""),r.append(o);for(var i=0;i<t[n].options.length;i++){var l=document.createElement("option");l.value=t[n].options[i],l.innerText=t[n].options[i],o.append(l)}}e.append(r)}var c=document.createElement("button");c.innerText="Save to table",c.setAttribute("type","submit"),e.append(c);var u=document.querySelector("body script");document.body.insertBefore(e,u)}();var l=document.querySelector(".new-employee-form");function c(e,t){var n=e.value.trim()||t,r=e.parentElement,i=t.trim();"$€£¥CHF₹₽₩R₺RM฿Rp₱ر.سد.إ₪E£₫₦₨৳".includes(i[0])&&"0123456789".includes(i[1])&&(n=o(a(n))),r.textContent=n,e.remove()}l.addEventListener("submit",function(e){e.preventDefault();var t,r,a,c,u,s,d={employeeName:l.querySelector('input[data-qa="name"]').value.trim(),position:l.querySelector('input[data-qa="position"]').value.trim(),office:l.querySelector('select[data-qa="office"]').value,age:l.querySelector('input[data-qa="age"]').value.trim(),salary:+l.querySelector('input[data-qa="salary"]').value.trim()};if(r=(t=d).employeeName,a=t.position,c=t.office,u=t.age,s=t.salary,!r||r.length<4?(i("warning","Name must be at least 4 characters long"),!1):a?c?18>+u||+u>90?(i("warning","Age must be between 18 and 90"),!1):!s||0>+s||Number.isNaN(+s)?(i("warning","Salary must be a positive number"),!1):(i("success","Employee added successfully"),!0):(i("warning","Office is required"),!1):(i("warning","Position is required"),!1)){for(var m=n.querySelector("tbody"),p=document.createElement("tr"),y=0;y<5;y++){var f=document.createElement("td");4===y?f.innerText=o(d[Object.keys(d)[y]]):f.innerText=d[Object.keys(d)[y]],p.append(f)}m.append(p),l.reset()}}),n.addEventListener("click",function(e){var o=n.querySelector("tbody"),i=t(o.querySelectorAll("tr")),l=e.target.closest("th"),c=e.target.closest("tr");if(l){var u=l.cellIndex;r.sortedColumn!==u&&(r.sortedBy=null,r.sortedColumn=u);var s=!r.sortedBy||"DESC"===r.sortedBy;r.sortedBy=s?"ASC":"DESC";var d=i.sort(function(e,t){var n=e.children[l.cellIndex].textContent,r=t.children[l.cellIndex].textContent,o=function(e,t){return"$€£¥CHF₹₽₩R₺RM฿Rp₱ر.سد.إ₪E£₫₦₨৳".includes(e[0])&&"0123456789".includes(e[1])?a(e)-a(t):e.localeCompare(t)};return s?o(n,r):o(r,n)});o.append.apply(o,t(d))}if(c&&c.closest("tbody")===o){var m=t(o.querySelectorAll("tr"));r.selectedRow=c,m.forEach(function(e){e.classList.toggle("active",e===r.selectedRow)})}}),n.addEventListener("dblclick",function(e){var t=e.target.closest("td");if(t&&t.closest("tbody")){document.querySelector(".cell-input")&&c(document.querySelector(".cell-input"));var n=t.textContent.trim(),r=document.createElement("input");if(r.type="text",r.classList.add("cell-input"),"$€£¥CHF₹₽₩R₺RM฿Rp₱ر.سد.إ₪E£₫₦₨৳".includes(n[0])&&"0123456789".includes(n[1])){var o=a(n);r.value=o}else r.value=n;t.textContent="",t.appendChild(r),r.focus(),r.addEventListener("blur",function(){c(r,n)}),r.addEventListener("keydown",function(e){"Enter"===e.key&&c(r,n)})}});
//# sourceMappingURL=index.40c5a69e.js.map
