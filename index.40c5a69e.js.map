{"mappings":"A,S,E,C,C,C,E,C,A,M,G,E,E,M,A,G,C,E,E,M,A,E,I,I,E,E,E,A,M,G,E,E,I,C,C,E,C,C,C,E,C,O,C,C,S,E,C,E,O,A,S,C,E,G,M,O,C,G,O,E,E,E,I,A,S,C,E,G,A,a,O,Q,A,M,C,C,O,Q,C,E,A,M,C,C,a,C,O,M,I,C,E,E,I,A,S,C,C,C,E,G,G,G,A,U,O,E,O,E,E,K,G,I,E,O,S,C,Q,C,I,C,G,K,C,E,I,G,W,G,E,W,E,C,E,E,W,C,I,A,E,A,Q,G,A,Q,E,O,M,I,C,G,G,A,c,G,2C,I,C,G,O,E,E,K,G,E,I,A,W,M,A,U,wI,G,CCIA,IAAM,EAAY,SAAS,aAAa,CAAC,SAEnC,EAAiB,CAAC,EAExB,SAAS,EAAc,CAAG,EACxB,OAAO,WAAW,EAAI,OAAO,CAAC,WAAY,IAC5C,CAEA,SAAS,EAAkB,CAAG,EAC5B,OAAO,EAAI,cAAc,CAAC,QAAS,CACjC,MAAO,WACP,SAAU,MACV,sBAAuB,EACvB,sBAAuB,CACzB,EACF,CAgCA,SAAS,EAAiB,CAAI,CAAE,CAAO,EACrC,IAAM,EAAe,SAAS,aAAa,CAAC,OACtC,EAAQ,SAAS,aAAa,CAAC,KAErC,EAAa,SAAS,CAAC,GAAG,CAAC,gBAC3B,EAAa,YAAY,CAAC,UAAW,gBAEjC,AAAS,YAAT,EACF,EAAa,SAAS,CAAC,GAAG,CAAC,SACT,YAAT,GACT,EAAa,SAAS,CAAC,GAAG,CAAC,WAG7B,EAAM,SAAS,CAAC,GAAG,CAAC,SAEpB,EAAM,SAAS,CAAG,EAElB,EAAa,MAAM,CAAC,GACpB,SAAS,IAAI,CAAC,MAAM,CAAC,GAErB,WAAW,WACT,SAAS,aAAa,CAAC,iBAAiB,MAAM,EAChD,EAAG,IACL,EAgGA,AA9FA,WACE,IAAM,EAAe,SAAS,aAAa,CAAC,QAE5C,EAAa,SAAS,CAAC,GAAG,CAAC,qBAC3B,EAAa,YAAY,CAAC,aAAc,IACxC,EAAa,YAAY,CAAC,KAAM,qBAsChC,IAAK,IApCC,EAAW,CACf,CACE,KAAM,OACN,MAAO,OACP,KAAM,MACR,EACA,CACE,KAAM,WACN,MAAO,WACP,KAAM,MACR,EACA,CAC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","sources":["<anon>","src/scripts/main.js"],"sourcesContent":["\"use strict\";\nfunction _array_like_to_array(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for(var i = 0, arr2 = new Array(len); i < len; i++)arr2[i] = arr[i];\n    return arr2;\n}\nfunction _array_without_holes(arr) {\n    if (Array.isArray(arr)) return _array_like_to_array(arr);\n}\nfunction _iterable_to_array(iter) {\n    if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\nfunction _non_iterable_spread() {\n    throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _to_consumable_array(arr) {\n    return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread();\n}\nfunction _unsupported_iterable_to_array(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\n}\n// write code here\nvar pageTable = document.querySelector(\"table\");\nvar pageTableState = {};\nfunction extractAmount(str) {\n    return parseFloat(str.replace(/[^0-9.]/g, \"\"));\n}\nfunction convertToCurrency(val) {\n    return val.toLocaleString(\"en-US\", {\n        style: \"currency\",\n        currency: \"USD\",\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n    });\n}\nfunction validateEmployee(employee) {\n    var employeeName = employee.employeeName, position = employee.position, office = employee.office, age = employee.age, salary = employee.salary;\n    if (!employeeName || employeeName.length < 4) {\n        showNotification(\"warning\", \"Name must be at least 4 characters long\");\n        return false;\n    } else if (!position) {\n        showNotification(\"warning\", \"Position is required\");\n        return false;\n    } else if (!office) {\n        showNotification(\"warning\", \"Office is required\");\n        return false;\n    } else if (+age < 18 || +age > 90) {\n        showNotification(\"warning\", \"Age must be between 18 and 90\");\n        return false;\n    } else if (!salary || +salary < 0 || Number.isNaN(+salary)) {\n        showNotification(\"warning\", \"Salary must be a positive number\");\n        return false;\n    } else {\n        showNotification(\"success\", \"Employee added successfully\");\n        return true;\n    }\n}\nfunction showNotification(type, message) {\n    var notification = document.createElement(\"div\");\n    var title = document.createElement(\"p\");\n    notification.classList.add(\"notification\");\n    notification.setAttribute(\"data-qa\", \"notification\");\n    if (type === \"warning\") notification.classList.add(\"error\");\n    else if (type === \"success\") notification.classList.add(\"success\");\n    title.classList.add(\"title\");\n    title.innerText = message;\n    notification.append(title);\n    document.body.append(notification);\n    setTimeout(function() {\n        document.querySelector(\".notification\").remove();\n    }, 3000);\n}\nfunction newEmployeeForm() {\n    var employeeForm = document.createElement(\"form\");\n    employeeForm.classList.add(\"new-employee-form\");\n    employeeForm.setAttribute(\"novalidate\", \"\");\n    employeeForm.setAttribute(\"id\", \"new-employee-form\");\n    var formInfo = [\n        {\n            name: \"name\",\n            label: \"Name\",\n            type: \"text\"\n        },\n        {\n            name: \"position\",\n            label: \"Position\",\n            type: \"text\"\n        },\n        {\n            name: \"office\",\n            label: \"Office\",\n            type: \"select\",\n            options: [\n                \"Tokyo\",\n                \"London\",\n                \"New York\",\n                \"Singapore\",\n                \"Edinburgh\",\n                \"San Francisco\"\n            ]\n        },\n        {\n            name: \"age\",\n            label: \"Age\",\n            type: \"number\"\n        },\n        {\n            name: \"salary\",\n            label: \"Salary\",\n            type: \"number\"\n        }\n    ];\n    for(var i = 0; i < formInfo.length; i++){\n        var label = document.createElement(\"label\");\n        label.innerText = formInfo[i].label + \":\";\n        var input = document.createElement(\"input\");\n        var select = document.createElement(\"select\");\n        if (formInfo[i].type !== \"select\") {\n            label.append(input);\n            input.setAttribute(\"data-qa\", formInfo[i].name);\n            input.setAttribute(\"type\", formInfo[i].type);\n            if (formInfo[i].name === \"age\") {\n                input.setAttribute(\"min\", \"18\");\n                input.setAttribute(\"max\", \"90\");\n            }\n            if (formInfo[i].name === \"salary\") input.setAttribute(\"min\", \"1\");\n            input.setAttribute(\"required\", \"\");\n        } else {\n            select.setAttribute(\"data-qa\", formInfo[i].name);\n            select.setAttribute(\"required\", \"\");\n            label.append(select);\n            for(var j = 0; j < formInfo[i].options.length; j++){\n                var option = document.createElement(\"option\");\n                option.value = formInfo[i].options[j];\n                option.innerText = formInfo[i].options[j];\n                select.append(option);\n            }\n        }\n        employeeForm.append(label);\n    }\n    var button = document.createElement(\"button\");\n    button.innerText = \"Save to table\";\n    button.setAttribute(\"type\", \"submit\");\n    employeeForm.append(button);\n    var firstScript = document.querySelector(\"body script\");\n    document.body.insertBefore(employeeForm, firstScript);\n}\nnewEmployeeForm();\nvar form = document.querySelector(\".new-employee-form\");\nform.addEventListener(\"submit\", function(e) {\n    e.preventDefault();\n    var COUNT_OF_COLUMNS = 5;\n    var newEmloyee = {\n        employeeName: form.querySelector('input[data-qa=\"name\"]').value.trim(),\n        position: form.querySelector('input[data-qa=\"position\"]').value.trim(),\n        office: form.querySelector('select[data-qa=\"office\"]').value,\n        age: form.querySelector('input[data-qa=\"age\"]').value.trim(),\n        salary: +form.querySelector('input[data-qa=\"salary\"]').value.trim()\n    };\n    if (!validateEmployee(newEmloyee)) return;\n    var tbody = pageTable.querySelector(\"tbody\");\n    var newTr = document.createElement(\"tr\");\n    for(var i = 0; i < COUNT_OF_COLUMNS; i++){\n        var newTd = document.createElement(\"td\");\n        if (i === 4) newTd.innerText = convertToCurrency(newEmloyee[Object.keys(newEmloyee)[i]]);\n        else newTd.innerText = newEmloyee[Object.keys(newEmloyee)[i]];\n        newTr.append(newTd);\n    }\n    tbody.append(newTr);\n    form.reset();\n});\npageTable.addEventListener(\"click\", function(e) {\n    var tbody = pageTable.querySelector(\"tbody\");\n    var rows = _to_consumable_array(tbody.querySelectorAll(\"tr\"));\n    var th = e.target.closest(\"th\");\n    var tr = e.target.closest(\"tr\");\n    if (th) {\n        var _tbody;\n        var thIndex = th.cellIndex;\n        if (pageTableState.sortedColumn !== thIndex) {\n            pageTableState.sortedBy = null;\n            pageTableState.sortedColumn = thIndex;\n        }\n        var isAscending = !pageTableState.sortedBy || pageTableState.sortedBy === \"DESC\";\n        pageTableState.sortedBy = isAscending ? \"ASC\" : \"DESC\";\n        var sortedRows = rows.sort(function(rowA, rowB) {\n            var a = rowA.children[th.cellIndex].textContent;\n            var b = rowB.children[th.cellIndex].textContent;\n            var isCurrency = function(val) {\n                return \"$\\u20AC\\xa3\\xa5CHF\\u20B9\\u20BD\\u20A9R\\u20BARM\\u0E3FRp\\u20B1\\u0631.\\u0633\\u062F.\\u0625\\u20AAE\\xa3\\u20AB\\u20A6\\u20A8\\u09F3\".includes(val[0]) && \"0123456789\".includes(val[1]);\n            };\n            var compareValues = function(valA, valB) {\n                if (isCurrency(valA)) return extractAmount(valA) - extractAmount(valB);\n                return valA.localeCompare(valB);\n            };\n            return isAscending ? compareValues(a, b) : compareValues(b, a);\n        });\n        (_tbody = tbody).append.apply(_tbody, _to_consumable_array(sortedRows));\n    }\n    if (tr && tr.closest(\"tbody\") === tbody) {\n        var trList = _to_consumable_array(tbody.querySelectorAll(\"tr\"));\n        pageTableState.selectedRow = tr;\n        trList.forEach(function(row) {\n            row.classList.toggle(\"active\", row === pageTableState.selectedRow);\n        });\n    }\n});\nfunction saveChanges(input, initialValue) {\n    var newValue = input.value.trim() || initialValue;\n    var cell = input.parentElement;\n    var value = initialValue.trim();\n    var currencySymbols = \"$\\u20AC\\xa3\\xa5CHF\\u20B9\\u20BD\\u20A9R\\u20BARM\\u0E3FRp\\u20B1\\u0631.\\u0633\\u062F.\\u0625\\u20AAE\\xa3\\u20AB\\u20A6\\u20A8\\u09F3\";\n    if (currencySymbols.includes(value[0]) && \"0123456789\".includes(value[1])) {\n        var amount = extractAmount(newValue);\n        newValue = convertToCurrency(amount);\n    }\n    cell.textContent = newValue;\n    input.remove();\n}\npageTable.addEventListener(\"dblclick\", function(e) {\n    var cell = e.target.closest(\"td\");\n    if (!cell || !cell.closest(\"tbody\")) return;\n    if (document.querySelector(\".cell-input\")) saveChanges(document.querySelector(\".cell-input\"));\n    var initialValue = cell.textContent.trim();\n    var currencySymbols = \"$\\u20AC\\xa3\\xa5CHF\\u20B9\\u20BD\\u20A9R\\u20BARM\\u0E3FRp\\u20B1\\u0631.\\u0633\\u062F.\\u0625\\u20AAE\\xa3\\u20AB\\u20A6\\u20A8\\u09F3\";\n    var input = document.createElement(\"input\");\n    input.type = \"text\";\n    input.classList.add(\"cell-input\");\n    if (currencySymbols.includes(initialValue[0]) && \"0123456789\".includes(initialValue[1])) {\n        var amount = extractAmount(initialValue);\n        input.value = amount;\n    } else input.value = initialValue;\n    cell.textContent = \"\";\n    cell.appendChild(input);\n    input.focus();\n    input.addEventListener(\"blur\", function() {\n        saveChanges(input, initialValue);\n    });\n    input.addEventListener(\"keydown\", function(keypressEvent) {\n        if (keypressEvent.key === \"Enter\") saveChanges(input, initialValue);\n    });\n});\n\n//# sourceMappingURL=index.40c5a69e.js.map\n","'use strict';\n\n// write code here\n\nconst pageTable = document.querySelector('table');\n\nconst pageTableState = {};\n\nfunction extractAmount(str) {\n  return parseFloat(str.replace(/[^0-9.]/g, ''));\n}\n\nfunction convertToCurrency(val) {\n  return val.toLocaleString('en-US', {\n    style: 'currency',\n    currency: 'USD',\n    minimumFractionDigits: 0,\n    maximumFractionDigits: 0,\n  });\n}\n\nfunction validateEmployee(employee) {\n  const { employeeName, position, office, age, salary } = employee;\n\n  if (!employeeName || employeeName.length < 4) {\n    showNotification('warning', 'Name must be at least 4 characters long');\n\n    return false;\n  } else if (!position) {\n    showNotification('warning', 'Position is required');\n\n    return false;\n  } else if (!office) {\n    showNotification('warning', 'Office is required');\n\n    return false;\n  } else if (+age < 18 || +age > 90) {\n    showNotification('warning', 'Age must be between 18 and 90');\n\n    return false;\n  } else if (!salary || +salary < 0 || Number.isNaN(+salary)) {\n    showNotification('warning', 'Salary must be a positive number');\n\n    return false;\n  } else {\n    showNotification('success', 'Employee added successfully');\n\n    return true;\n  }\n}\n\nfunction showNotification(type, message) {\n  const notification = document.createElement('div');\n  const title = document.createElement('p');\n\n  notification.classList.add('notification');\n  notification.setAttribute('data-qa', 'notification');\n\n  if (type === 'warning') {\n    notification.classList.add('error');\n  } else if (type === 'success') {\n    notification.classList.add('success');\n  }\n\n  title.classList.add('title');\n\n  title.innerText = message;\n\n  notification.append(title);\n  document.body.append(notification);\n\n  setTimeout(() => {\n    document.querySelector('.notification').remove();\n  }, 3000);\n}\n\nfunction newEmployeeForm() {\n  const employeeForm = document.createElement('form');\n\n  employeeForm.classList.add('new-employee-form');\n  employeeForm.setAttribute('novalidate', '');\n  employeeForm.setAttribute('id', 'new-employee-form');\n\n  const formInfo = [\n    {\n      name: 'name',\n      label: 'Name',\n      type: 'text',\n    },\n    {\n      name: 'position',\n      label: 'Position',\n      type: 'text',\n    },\n    {\n      name: 'office',\n      label: 'Office',\n      type: 'select',\n      options: [\n        'Tokyo',\n        'London',\n        'New York',\n        'Singapore',\n        'Edinburgh',\n        'San Francisco',\n      ],\n    },\n    {\n      name: 'age',\n      label: 'Age',\n      type: 'number',\n    },\n    {\n      name: 'salary',\n      label: 'Salary',\n      type: 'number',\n    },\n  ];\n\n  for (let i = 0; i < formInfo.length; i++) {\n    const label = document.createElement('label');\n\n    label.innerText = formInfo[i].label + ':';\n\n    const input = document.createElement('input');\n    const select = document.createElement('select');\n\n    if (formInfo[i].type !== 'select') {\n      label.append(input);\n      input.setAttribute('data-qa', formInfo[i].name);\n      input.setAttribute('type', formInfo[i].type);\n\n      if (formInfo[i].name === 'age') {\n        input.setAttribute('min', '18');\n        input.setAttribute('max', '90');\n      }\n\n      if (formInfo[i].name === 'salary') {\n        input.setAttribute('min', '1');\n      }\n\n      input.setAttribute('required', '');\n    } else {\n      select.setAttribute('data-qa', formInfo[i].name);\n      select.setAttribute('required', '');\n      label.append(select);\n\n      for (let j = 0; j < formInfo[i].options.length; j++) {\n        const option = document.createElement('option');\n\n        option.value = formInfo[i].options[j];\n        option.innerText = formInfo[i].options[j];\n        select.append(option);\n      }\n    }\n\n    employeeForm.append(label);\n  }\n\n  const button = document.createElement('button');\n\n  button.innerText = 'Save to table';\n  button.setAttribute('type', 'submit');\n  employeeForm.append(button);\n\n  const firstScript = document.querySelector('body script');\n\n  document.body.insertBefore(employeeForm, firstScript);\n}\n\nnewEmployeeForm();\n\nconst form = document.querySelector('.new-employee-form');\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const COUNT_OF_COLUMNS = 5;\n\n  const newEmloyee = {\n    employeeName: form.querySelector('input[data-qa=\"name\"]').value.trim(),\n    position: form.querySelector('input[data-qa=\"position\"]').value.trim(),\n    office: form.querySelector('select[data-qa=\"office\"]').value,\n    age: form.querySelector('input[data-qa=\"age\"]').value.trim(),\n    salary: +form.querySelector('input[data-qa=\"salary\"]').value.trim(),\n  };\n\n  if (!validateEmployee(newEmloyee)) {\n    return;\n  }\n\n  const tbody = pageTable.querySelector('tbody');\n\n  const newTr = document.createElement('tr');\n\n  for (let i = 0; i < COUNT_OF_COLUMNS; i++) {\n    const newTd = document.createElement('td');\n\n    if (i === 4) {\n      newTd.innerText = convertToCurrency(\n        newEmloyee[Object.keys(newEmloyee)[i]],\n      );\n    } else {\n      newTd.innerText = newEmloyee[Object.keys(newEmloyee)[i]];\n    }\n\n    newTr.append(newTd);\n  }\n\n  tbody.append(newTr);\n\n  form.reset();\n});\n\npageTable.addEventListener('click', (e) => {\n  const tbody = pageTable.querySelector('tbody');\n  const rows = [...tbody.querySelectorAll('tr')];\n  const th = e.target.closest('th');\n  const tr = e.target.closest('tr');\n\n  if (th) {\n    const thIndex = th.cellIndex;\n\n    if (pageTableState.sortedColumn !== thIndex) {\n      pageTableState.sortedBy = null;\n      pageTableState.sortedColumn = thIndex;\n    }\n\n    const isAscending =\n      !pageTableState.sortedBy || pageTableState.sortedBy === 'DESC';\n\n    pageTableState.sortedBy = isAscending ? 'ASC' : 'DESC';\n\n    const sortedRows = rows.sort((rowA, rowB) => {\n      const a = rowA.children[th.cellIndex].textContent;\n      const b = rowB.children[th.cellIndex].textContent;\n\n      const isCurrency = (val) =>\n        '$€£¥CHF₹₽₩R₺RM฿Rp₱ر.سد.إ₪E£₫₦₨৳'.includes(val[0]) &&\n        '0123456789'.includes(val[1]);\n\n      const compareValues = (valA, valB) => {\n        if (isCurrency(valA)) {\n          return extractAmount(valA) - extractAmount(valB);\n        }\n\n        return valA.localeCompare(valB);\n      };\n\n      return isAscending ? compareValues(a, b) : compareValues(b, a);\n    });\n\n    tbody.append(...sortedRows);\n  }\n\n  if (tr && tr.closest('tbody') === tbody) {\n    const trList = [...tbody.querySelectorAll('tr')];\n\n    pageTableState.selectedRow = tr;\n\n    trList.forEach((row) => {\n      row.classList.toggle('active', row === pageTableState.selectedRow);\n    });\n  }\n});\n\nfunction saveChanges(input, initialValue) {\n  let newValue = input.value.trim() || initialValue;\n  const cell = input.parentElement;\n\n  const value = initialValue.trim();\n  const currencySymbols = '$€£¥CHF₹₽₩R₺RM฿Rp₱ر.سد.إ₪E£₫₦₨৳';\n\n  if (currencySymbols.includes(value[0]) && '0123456789'.includes(value[1])) {\n    const amount = extractAmount(newValue);\n\n    newValue = convertToCurrency(amount);\n  }\n\n  cell.textContent = newValue;\n  input.remove();\n}\n\npageTable.addEventListener('dblclick', (e) => {\n  const cell = e.target.closest('td');\n\n  if (!cell || !cell.closest('tbody')) {\n    return;\n  }\n\n  if (document.querySelector('.cell-input')) {\n    saveChanges(document.querySelector('.cell-input'));\n  }\n\n  const initialValue = cell.textContent.trim();\n  const currencySymbols = '$€£¥CHF₹₽₩R₺RM฿Rp₱ر.سد.إ₪E£₫₦₨৳';\n\n  const input = document.createElement('input');\n\n  input.type = 'text';\n  input.classList.add('cell-input');\n\n  if (\n    currencySymbols.includes(initialValue[0]) &&\n    '0123456789'.includes(initialValue[1])\n  ) {\n    const amount = extractAmount(initialValue);\n\n    input.value = amount;\n  } else {\n    input.value = initialValue;\n  }\n\n  cell.textContent = '';\n  cell.appendChild(input);\n  input.focus();\n\n  input.addEventListener('blur', () => {\n    saveChanges(input, initialValue);\n  });\n\n  input.addEventListener('keydown', (keypressEvent) => {\n    if (keypressEvent.key === 'Enter') {\n      saveChanges(input, initialValue);\n    }\n  });\n});\n"],"names":["_array_like_to_array","arr","len","length","i","arr2","Array","_to_consumable_array","_array_without_holes","isArray","_iterable_to_array","iter","Symbol","iterator","from","_unsupported_iterable_to_array","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","test","_non_iterable_spread","TypeError","pageTable","document","querySelector","pageTableState","extractAmount","str","parseFloat","replace","convertToCurrency","val","toLocaleString","style","currency","minimumFractionDigits","maximumFractionDigits","showNotification","type","message","notification","createElement","title","classList","add","setAttribute","innerText","append","body","setTimeout","remove","newEmployeeForm","employeeForm","formInfo","label","options","input","select","j","option","value","button","firstScript","insertBefore","form","saveChanges","initialValue","newValue","trim","cell","parentElement","currencySymbols","includes","textContent","addEventListener","e","preventDefault","employee","employeeName","position","office","age","salary","newEmloyee","Number","isNaN","tbody","newTr","newTd","keys","reset","rows","querySelectorAll","th","target","closest","tr","thIndex","cellIndex","sortedColumn","sortedBy","isAscending","sortedRows","sort","rowA","rowB","a","children","b","compareValues","valA","valB","localeCompare","apply","trList","selectedRow","forEach","row","toggle","amount","appendChild","focus","keypressEvent","key"],"version":3,"file":"index.40c5a69e.js.map"}